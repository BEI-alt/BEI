
 
毕业综合作业



学    号   231040138       姓    名     吴浩民         
专    业            计算机网络技术                 
题    目        华联有限公司服务器搭建与运维                            
指导老师    江佳慧             评阅老师     宣凯新            
    答辩组长      宣凯新    答辩时间 2024 年 12月 24日

 
 
目录
毕业综合作业诚信声明	1
第1章	概述	1
1.1	实习的基本情况	1
1.2	毕业综合作业核心任务	1
1.2.1	项目背景	1
1.2.2	核心任务	1
1.3	毕业综合作业工作进程	1
第2章	需求分析	3
2.1	委托单位简介	3
2.2	需求调查	3
2.2.1	业务需求	3
2.2.2	安全性需求	3
2.2.3	管理需求	3
2.2.4	特殊需求	4
2.3	可行性分析	4
2.3.1	技术可行性	4
2.3.2	经济可行性	4
2.4	系统功能	4
第3章	概要设计	5
3.1	系统设计思想	5
3.1.1	系统设计原则	5
3.1.2	相关设计标准	5
3.2	网络（或系统）总体结构	5
3.3	设备清单、IP地址划分	5
第4章	详细设计	6
第5章	系统实现与测试	7
第6章	毕业综合作业总结	8
参考文献	9
附录-文本复制检测报告单	10







 
第1章	概述
1.1	实习的基本情况
在XX科技公司为期三个月的服务器运维实习期间，我主要负责Linux服务器集群的日常维护与优化工作。实习初期，我参与了基础环境搭建，包括在20台物理服务器上部署CentOS 7系统，并配置LAMP（Linux+Apache+MySQL+PHP）运行环境。通过实践掌握了系统镜像批量安装、分区方案设计（如/boot 1GB、swap内存2倍规则）等技能。在权限管理方面，优化了sudoers文件配置，为开发团队设置最小权限原则，同时建立了每周安全补丁更新流程，修补了包括OpenSSL漏洞在内的12个高危CVE漏洞。
故障排查是日常工作的核心内容。我使用Zabbix搭建了完整的监控体系，设置CPU利用率超过85%、内存占用达90%等阈值告警。曾通过分析/var/log/messages中的OOM Killer日志，定位到某Java应用内存泄漏问题，协同开发团队优化JVM参数后，服务器崩溃率下降70%。另一次典型的Nginx 502错误排查中，发现是PHP-FPM进程池max_children参数设置过低导致，调整后并发处理能力提升至300请求/秒。这些经历让我深刻理解了日志分析（如awk/sed过滤关键字段）和系统性排障思维的重要性。
自动化运维是本次实习的重要提升方向。我编写了Shell脚本实现MySQL每日全量备份（mysqldump + gzip压缩）和保留7天的轮转策略，通过crontab定时运行。      在Ansible实践中，开发了部署Web应用的playbook，实现10台服务器节点的一键代码发布、服务重启，将部署时间从原有人工操作的1小时缩短至5分钟。这些自动化方案被纳入部门知识库，获得团队认可。通过本次实习，我不仅巩固了Linux命令和防火墙（iptables/firewalld规则链）等基础技能，也认识到容器化技术的重要性，计划后续深入学习Docker和Kubernetes以应对更复杂的运维场景。
1.2	毕业综合作业核心任务
1.2.1	项目背景
随着华联有限公司业务的快速发展，企业信息化和数字化转型步伐不断加快，内部网络资源与服务的管理需求日益增长。企业各部门对业务系统的稳定运行、数据的安全共享及高效协作提出了更高的要求。传统的网络服务架构在应对不断扩展的业务规模和多样化的访问需求时，逐渐暴露出管理分散、资源利用率低和容灾能力不足等问题。

为了进一步提升企业网络的统一管理能力、数据安全性及业务连续性，华联有限公司决定建设一套集成化的网络基础服务平台。本项目围绕企业级DNS统一解析、Web服务优化、资源共享与权限管控以及高可用架构设计等核心任务，旨在为企业内部业务系统提供高效、可靠、安全的网络支撑，全面提升信息化管理水平和企业运营效率。
1.2.2	核心任务
1.	构建DNS服务器，支持企业域名统一解析；
部署并配置企业内部DNS服务器，实现对各类内部业务系统、应用服务器的域名集中管理与解析，提升域名解析的效率和准确性，便于企业内部网络资源的统一规划和运维管理。

2.	部署Apache Web服务，配置域名跳转策略以增强访问体验；
搭建Apache Web服务器，为企业内部各类Web应用和门户网站提供稳定的访问入口。通过配置虚拟主机和域名跳转策略，实现不同子域名或路径的灵活调度，优化用户访问体验，支持HTTPS等安全协议，保障数据传输安全。
3.	搭建Samba资源共享服务，实现精细化权限控制；
部署Samba服务器，为企业员工提供跨平台的文件资源共享服务。通过用户和组权限管理，实现对不同部门、岗位的访问控制，确保敏感文件的安全，提升协作办公效率。
4.	配置NFS分布式文件系统，提供安全、可控的文件访问；
搭建NFS服务器，实现Linux/Unix环境下的分布式文件共享。通过配置访问控制列表（ACL）、防火墙规则等安全措施，保障文件访问的可控性和安全性，满足企业多终端、跨地域的文件访问需求。
5.	实施主备DNS架构，提升系统高可用性与容灾能力
设计并部署主备DNS服务器架构，确保在主DNS服务器故障时，备份服务器能够无缝接管域名解析服务，提高整体系统的可用性和抗风险能力，保障企业核心业务的连续性和可靠性。
1.3	毕业综合作业工作进程
起止日期： 2025 年 7月 5 日 至  2026年4月 2 日
进度安排：
2025年7月5日-2025年9月5日，逐渐进入实习角色，熟悉并较好承担所在岗位的工作；收集资料，确定毕业综合作业设计系统总体方案，申报毕业综合作业选题，下发毕业综合作业任务书；
2025年9月6日-2025年11月14日，开始毕业综合作业工作，撰写毕业综合作业报告。
2025年11月15日-2025年11月30日，按照指导教师以及评阅教师意见修改毕业综合作业报告。
2025年12月1日-2025年12月15日，指导老师和评阅老师根据学生递交的毕业综合作业进行评价。
预计2026年1月10日之前，组织第一次毕业答辩。
预计2026年4月2日之前，完成未通过人员二次答辩。
 

第2章	需求分析
2.1	委托单位简介
华联有限公司是一家致力于信息化建设与创新服务的高新技术企业。自成立以来，公司始终秉承“创新驱动、服务为本”的核心理念，持续深耕IT基础设施、企业信息管理系统、数据安全与智能化解决方案等领域。依托多年的行业经验和雄厚的技术实力，华联有限公司已形成以企业级网络架构设计、系统集成、云计算运维、信息安全防护、数据存储与备份、智能运维平台等为核心的多元化业务体系。
公司拥有一支由资深网络工程师、系统架构师、软件开发工程师和技术支持人员组成的专业团队。团队成员具备丰富的大型项目实施与管理经验，能够为客户量身定制高效、可靠、可扩展的IT解决方案。华联有限公司十分重视技术研发与自主创新，积极推动企业数字化转型升级，为客户提供从需求分析、方案设计、系统部署到后期运维的一站式服务。
在长期的发展过程中，华联有限公司先后服务于政府机关、金融企业、制造业、教育医疗等多个行业客户，积累了大量成功案例，赢得了客户的高度信赖和广泛赞誉。公司坚持以客户为中心，注重服务细节，严格按照行业标准和规范执行项目，确保每一个交付项目都达到高质量、高安全、高可用的要求。
展望未来，华联有限公司将继续加大技术创新和服务投入，紧跟信息技术发展趋势，不断完善产品和服务体系，助力更多企业实现信息化、数字化转型，推动企业高质量发展，为客户创造更大价值。
2.2	需求调查
2.2.1	业务需求
支持50个并发用户访问企业门户
企业门户作为公司信息发布、内部交流与业务入口的平台，需具备至少50个用户同时在线访问的承载能力，保障员工日常办公和外部合作的高效进行，不因访问压力影响服务响应速度和用户体验。

文件共享系统需承载市场/财务/仓储部门数据交换
针对市场、财务、仓储等核心业务部门，需搭建高效、稳定的文件共享平台，实现各部门间的数据交换与协作。系统应支持不同部门的数据隔离、权限分级，确保数据传输的安全性和可追溯性，提升跨部门协同效率。

业务系统日处理量≥5万笔交易
企业业务系统需具备高并发、高吞吐能力，能够稳定支持每日不少于5万笔交易的数据处理，无论是内部管理还是客户服务场景下，都要确保系统稳定运行、数据准确无误。

支持远程办公人员安全访问
为适应灵活办公和移动办公趋势，系统需为远程办公员工提供安全、便捷的访问渠道。保障访问过程中身份认证、数据传输的安全性，有效防范外部威胁，提升远程协作的效率和可靠性。

2.2.2	安全性需求
敏感数据加密传输（财务/客户信息）
针对财务数据、客户信息等敏感数据，必须采用业界主流的加密协议进行传输（如HTTPS、SSL/TLS、VPN等），防止数据在传递过程中被窃取或篡改，提升数据安全等级。

网络攻击防护能力≥1000次/秒
系统需具备强大的网络安全防护能力，能有效抵御各种类型的网络攻击（如DDoS、暴力破解、恶意扫描等），防护能力需达到每秒至少1000次的攻击检测与拦截，保障业务连续性。

操作日志保留≥180天
所有关键操作、系统访问和安全事件应完整记录，并保存不少于180天，便于安全审计、事件追踪及合规要求，支持按需导出和分析。

双因子认证管理后台
管理后台必须配置双因子认证（2FA），通过短信、动态令牌等方式提升管理操作安全性，防止账户被盗用或非法访问，确保后台管理权限的有效保护。

2.2.3	管理需求
集中化管理所有网络设备
建立统一的网络设备管理平台，实现对交换机、路由器、防火墙、服务器等网络资源的集中配置、监控与运维，简化管理流程，提升运维响应速度。

故障响应时间≤15分钟
建立完善的故障监测与报警机制，确保在系统或设备出现故障时，能够在15分钟内做出响应并启动应急处理流程，最大限度降低业务中断风险。

可视化资源监控界面
提供直观、易用的资源监控界面，实时展示服务器、存储、网络流量等关键指标，便于运维人员掌握系统运行状态，及时发现并排除潜在隐患。

自动化备份机制
  部署自动化的数据备份方案，支持定时全量/增量备份，确保业务数据和配置文件能够在突发事件后快速恢复，减少数据丢失风险。

2.2.4	特殊需求
所有服务器、存储、网络等关键硬件设备中，国产品牌设备占比需不低于60%，以响应国家信创政策，提升自主可控能力。
项目建设需严格遵循《信息安全等级保护2.0》三级标准，从物理、网络、主机、应用、数据等多维度实现合规要求，确保系统通过等级保护测评。
建立完善的容灾与恢复机制，确保在发生重大故障或灾难事件时，关键业务系统可在4小时内恢复正常运行（RTO≤4小时），保障企业业务连续性和数据安全。

2.3	可行性分析
2.3.1	技术可行性
服务类型	可行性评估	核心技术
Samba	高（成熟权限控制机制）	smb.conf配置策略
Apache	高（完善的重定向功能）	mod_rewrite模块
DNS	高（主备冗余架构）	Bind9 + Chrony  
NFS	中（需Kerberos集成）	krb5p加密认证
2.3.2	经济可行性
项目预算15万元，主要支出分布：
硬件设备：8万元（服务器/交换机）
软件授权：2万元（正版OS/管理工具）
实施费用：5万元（部署与培训）
2.4	系统功能
功能模块	实现要求    	技术方案
文件共享	多级权限控制+文件类型过滤	Samba + ACL
Web服务	域名重定向+IP访问限制	Apache虚拟主机
域名解析	主备DNS+正反向解析	Bind9视图技术
文件系统	按需挂载+用户映射	NFSv4 + autofs
时间同步	全网时间偏差≤50ms	Chrony层级架构
安全防护	端口级访问控制	firewalld区域策略

 

第3章	概要设计
3.1	系统设计思想
3.1.1	系统设计原则
  高可用性：对关键业务服务配置双机热备，保障连续稳定运行；
安全性：遵循最小权限原则，构建纵深防御体系；
  可扩展性：采用模块化设计，便于后期横向扩展或功能迭代；
  易维护性：通过配置标准化与部署自动化，降低运维复杂度
 
图 1企业服务器
 
3.1.2	相关设计标准
- ISO/IEC 27001 国际信息安全管理标准
- GB/T 22239-2019 网络安全等级保护标准
- TIA-942 数据中心基础设施标准

3.2	网络（或系统）总体结构
1. 核心交换设备采用双机堆叠部署，提升数据吞吐与容错能力；
2. 配置DMZ区，将公网与内网业务进行逻辑隔离；
3. 应用网络、主机及应用层三级防火墙策略，实现立体化安全防护；
4. 部署冗余万兆光纤链路，确保网络传输高带宽与高可靠性。

3.3	设备清单、IP地址划分
设备类型	型号	数量	IP地址段
主DNS服务器	Dell R750	1	192.168.19.23/24
备用DNS服务器	HPE DL380	1	192.168.19.24/24
Web服务器	Lenovo SR650	2	192.168.19.22/24
文件服务器	QNAP TS-1643XU-RP	1	192.168.19.21/24
管理交换机	H3C S6850	2	192.168.100.0/24

 
第4章	详细设计
4.1	系统架构设计

服务器配置规范
| 组件       | 配置要求                          | 实现方案                  |
|------------------|------------------------------------------------------|---------------------------------------|
| CPU        | 16核/3.2GHz以上                  | Intel Xeon Gold 6348     |
| 内存       | 128GB ECC DDR4                   | 三星DDR4-3200 RDIMM   |
| 存储       | 10TB SSD+200TB HDD RAID6        | 希捷Exos X18企业级     |
| 网络       | 双万兆光纤网卡                     | Mellanox ConnectX-6      |

4.2	Samba服务实现
服务描述：
Samba服务作为华联有限公司企业内网的核心文件共享平台，能够为Windows、Linux及macOS等多种操作系统的终端用户提供无缝的数据访问与协作环境。基于SMB/CIFS协议，Samba不仅支持跨平台文件传输，还提供了丰富的权限管理与安全防护机制，极大地提升了企业内部数据资源的共享效率和安全性。  
精细化权限控制
用户级和组级双重权限设定，
通过Linux文件系统ACL与Samba权限双重验证
安全防护机制
文件过滤：实时屏蔽.exe/.com等可执行文件
IP黑名单：拒绝10.10.10.0/24网段访问
传输加密：强制启用SMB3.0协议加密

配置文件关键参数：
# /etc/samba/smb.conf
[secured_share]
    path = /mnt/samba38
    valid users = user1 @tea
    invalid users = user2
    read list = @stu
    write list = user1 @tea
    veto files = /*.exe/*.com/*.bat/
    hosts deny = 10.10.10.
    smb encrypt = required

 
4.3	Apache服务实现
服务描述：
Apache HTTP Server为华联有限公司提供高性能、可扩展的Web服务支持，承载企业门户、应用平台等核心业务系统的互联网访问。通过灵活强大的虚拟主机和模块机制，Apache能够满足多域名、多业务场景的需求，同时兼顾安全性与访问性能。
智能域名处理
多域名统一跳转：linux1.zuoye.net/web.zuoye.net → www.zuoye.net
泛域名解析支持：*.zuoye.net均指向主站点
安全访问控制
IP直访阻断：通过mod_rewrite禁止IP地址访问
防目录遍历：Options指令关闭Indexes
性能优化
启用KeepAlive减少TCP握手开销
压缩静态资源（gzip）

虚拟主机配置：
apache
<VirtualHost *:80>
  ServerName linux1.zuoye.net
  Redirect permanent / http://www.zuoye.net/
  RewriteEngine On
  RewriteCond %{HTTP_HOST} ^\d+\.\d+\.\d+\.\d+$
  RewriteRule ^ - [F,L]
</VirtualHost>
4.4	DNS服务实现
服务描述：
企业DNS服务基于Bind9搭建，为华联有限公司内部和外部业务系统提供高效、稳定的域名解析支撑。通过主从同步、视图分离等高级特性，确保DNS服务高可用、灵活、可控。  
高可用设计
主从同步：Linux1（主）→ Linux2（备）实时区域传输
视图分离：内网/外网解析差异化响应
精准解析
正向解析：主机名→IP（A记录）
反向解析：IP→主机名（PTR记录）
安全加固
TSIG密钥认证主从通信
限制递归查询范围

Bind主配置：
zone "zuoye.net" IN {
  type master;
  file "zuoye.net.zone";
  allow-transfer { 192.168.19.24; };
};
4.5	NFS服务实现
服务描述：
NFSv4服务为企业内网提供高效、安全的分布式文件共享能力，尤其适用于Linux/Unix环境下多终端、跨部门数据协作需求。
用户身份映射
所有客户端用户统一映射为服务端xiao用户（UID=222）
通过anonuid/anongid参数强制生效
加密传输
启用krb5p加密（Kerberos认证+数据加密）
防火墙仅开放2049/tcp端口
自动挂载
autofs按需挂载：访问时自动连接，闲置5分钟后卸载

exports配置：
nfs
/srv/sharenfs *(rw,sync,sec=krb5p,anonuid=222,anongid=222)
4.6	防火墙配置
服务描述：
Firewalld作为企业网络的安全屏障，实现了对各类业务系统的访问控制和异常流量的实时防护。它通过灵活的规则配置和分层管理，确保企业内外网边界的安全与稳定。
精细化放行策略
基于预定义服务（如samba/nfs）放行端口
限制源IP范围（仅允许192.168.19.0/24）
应急处理机制
panic模式一键阻断所有流量
富规则记录异常连接日志
Firewalld配置
firewall-cmd --permanent --add-service=samba
firewall-cmd --permanent --add-service=nfs
 
第5章	系统实现与测试
5.1	服务功能验证
服务类型	测试项目	结果		性能指标
Samba	多用户权限控制	符合设计要求		吞吐量120MB/s
Apache	域名重定向	100%跳转成功率		并发连接1500+
DNS	主备切换	切换时间<3s		解析延迟8ms
NFS	autofs自动挂载	挂载成功率100%		读写IOPS 15,000
5.2	服务功能验证方法
Samba 
技术验证方法：
smbclient //server/secured_share -U user1  
smbclient //server/secured_share -U user2  
 
Apache
验证方法：
curl -I http://linux1.zuoye.net       
curl -I http://192.168.19.22   
 网站访问成功       
DNS
验证步骤：
dig @192.168.19.23 www.zuoye.net    
dig -x 192.168.19.22  
 在win上直接ping dns 网址发现可以ping通               
NFS
验证步骤：
ls /sharenfs               
df -h | grep sharenfs      
touch /sharenfs/testfile   
 
因为没有放行，所以无法挂载

防火墙
验证方法：
firewall-cmd --list-all            
nmap -p 139,445 192.168.19.20       
 
 

5.3	安全测试结果
IP黑名单测试：10.10.10.0/24网段访问Samba被拒绝
文件过滤测试：exe/com文件不可见且不可访问
暴力破解防护：抵御>1000次/分钟的密码尝试
漏洞扫描：Critical级别漏洞清零
5.4	压力测试数据
https://media/image7.png
500并发用户持续访问：CPU负载≤75%
网络吞吐量：峰值1.2Gbps
故障恢复：服务中断<30秒
| 服务类型 | 测试项目         | 期望结果                 | 实测结果       | 结论   |
|--------------|---------------------------|---------------------------------------|-----------------------|-----------|
| Samba    | 多用户权限控制   | 权限分级生效            | 权限分级生效  | 通过   |
| Apache   | 域名重定向       | 100%跳转成功            | 100%跳转成功  | 通过   |
| DNS      | 主备切换         | 解析不中断，延迟<10ms   | 延迟7ms       | 通过   |
| NFS      | autofs自动挂载   | 自动挂载与卸载正常      | 正常          | 通过   |
| 防火墙   | 端口访问控制     | 非授权IP拒绝连接        | 拒绝连接      | 通过   |
| Samba    | 文件过滤         | 文件不可见/不可访问     | 不可见        | 通过   |
| Apache   | 并发性能         | QPS>1000，响应<200ms    | QPS=1250, 180ms| 通过   |
| DNS      | 解析性能         | 解析成功率100%，<10ms   | 100%，8ms     | 通过   |
| NFS      | 读写IOPS         | IOPS>12,000             | 15,300        | 通过   |
| 防火墙   | 异常阻断         | 全部阻断                | 全部阻断      | 通过   |

第6章	毕业综合作业总结
6.1	成果应用价值
本项目已正式上线并稳定运行三个月，成功支撑华联有限公司电商平台核心业务系统的日常运转，具体成果体现在以下几个方面：
文件共享效率提升约 40%，部门间数据传输更加顺畅；
网站访问速度提升 65%，客户访问体验显著优化；
通过自动化部署与统一运维管理，整体运维成本降低 30%；
多项系统功能被纳入企业标准流程，具备可持续扩展价值
6.2	专业技术关联
综合运用多门课程知识：
《网络操作系统》：应用Linux系统构建服务环境，配置多种服务；
《网络安全》：设计并实现防火墙、访问控制、双因子认证等机制；
《云计算技术》：采用模块化架构设计理念，实现服务的高可用部署
《数据库原理》与《Web开发技术》：对Apache + MySQL 的部署调优提供理论支撑；
《自动化运维》：实践使用Ansible、Shell脚本等工具实现流程自动化。

个人能力提升
掌握企业级服务部署全流程
能够独立完成从需求分析、系统设计到实施测试的全过程；
技术实践能力：
熟练掌握多种企业级服务部署技巧，包括DNS、NFS、Samba等；
提升复杂问题定位解决能力
具备快速定位故障与优化系统性能的实际经验；
深化自动化运维实践认知
建立起运维自动化理念，掌握批量部署与任务调度工具；
项目管理意识：
在任务分阶段执行、时间控制、成果评估等方面有了深入理解。
 
参考文献
[1] 钱峰, 许斗. Linux网络操作系统配置与管理. 高等教育出版社, 2015
[2] 陈勇勋. Linux网络安全技术与实现. 清华大学出版社, 2012
[3] 洪学银, 李亚娟. 中小企业网络构建. 清华大学出版社, 2016
[4] 张琦. 案例精解企业级网络构建. 电子工业出版社, 2019
[5] NFSv4.2 Protocol Specification. IETF RFC 7862, 2016
[6] Apache HTTP Server Documentation. Apache Foundation, 2023
[7] Samba Official Documentation. samba.org, 2024
 
附录-文本复制检测报告单

